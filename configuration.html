<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>7. Configuration &#8212; bamm 2.5.0 documentation</title>
    
    <link rel="stylesheet" href="_static/bamm.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="8. Analyzing BAMM output with BAMMtools" href="postprocess.html" />
    <link rel="prev" title="6. Setting Up BAMM" href="settingup.html" /> 
  </head>
  <body role="document">
<div class="pageheader">
    <img src="_static/bamm-header.png" /img>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="postprocess.html" title="8. Analyzing BAMM output with BAMMtools"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="settingup.html" title="6. Setting Up BAMM"
             accesskey="P">previous</a> |</li>
<li><a href="index.html">Home</a>&nbsp;|</li>
<li><a href="download.html">Download</a>&nbsp;|</li>
<li><a href="documentation.html">Documentation</a>&nbsp;|</li>
<li><a href="contact_us.html">Contact Us</a></li>
 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="documentation.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">7. Configuration</a><ul>
<li><a class="reference internal" href="#control-file">7.1. Control File</a></li>
<li><a class="reference internal" href="#general-options-and-parameters">7.2. General Options and Parameters</a><ul>
<li><a class="reference internal" href="#general">7.2.1. General</a></li>
<li><a class="reference internal" href="#priors">7.2.2. Priors</a></li>
<li><a class="reference internal" href="#mcmc-simulation">7.2.3. MCMC Simulation</a></li>
<li><a class="reference internal" href="#metropolis-coupled-mcmc">7.2.4. Metropolis Coupled MCMC</a></li>
<li><a class="reference internal" href="#parameter-update-rates">7.2.5. Parameter Update Rates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#speciation-extinction-model">7.3. Speciation/Extinction Model</a><ul>
<li><a class="reference internal" href="#id1">7.3.1. General</a></li>
<li><a class="reference internal" href="#id2">7.3.2. Priors</a></li>
<li><a class="reference internal" href="#id3">7.3.3. MCMC Simulation</a></li>
<li><a class="reference internal" href="#starting-parameters">7.3.4. Starting Parameters</a></li>
<li><a class="reference internal" href="#id4">7.3.5. Parameter Update Rates</a></li>
</ul>
</li>
<li><a class="reference internal" href="#phenotypic-evolution-model">7.4. Phenotypic Evolution Model</a><ul>
<li><a class="reference internal" href="#id5">7.4.1. General</a></li>
<li><a class="reference internal" href="#mcmc-tuning">7.4.2. MCMC Tuning</a></li>
<li><a class="reference internal" href="#id6">7.4.3. Starting Parameters</a></li>
<li><a class="reference internal" href="#id7">7.4.4. Priors</a></li>
<li><a class="reference internal" href="#id8">7.4.5. Parameter Update Rates</a></li>
<li><a class="reference internal" href="#data-output">7.4.6. Data Output</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="settingup.html"
                        title="previous chapter">6. Setting Up BAMM</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="postprocess.html"
                        title="next chapter">8. Analyzing BAMM output with BAMMtools</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/configuration.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="configuration">
<h1>7. Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h1>
<div class="section" id="control-file">
<h2>7.1. Control File<a class="headerlink" href="#control-file" title="Permalink to this headline">¶</a></h2>
<p>Configuration options and parameters in BAMM are specified in a <em>control file</em>,
a plain text file in which each line contains the name of the option or
parameter, an equal sign, and the value of the option or parameter:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>treefile = whaletree.tre
runMCMC = 1
</pre></div>
</div>
<p>The path of the control file, relative to the directory in which <code class="docutils literal"><span class="pre">bamm</span></code>
is called, is specified with the flag <code class="docutils literal"><span class="pre">-c</span></code>:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>./bamm -c divcontrol.txt
</pre></div>
</div>
</div>
<div class="section" id="general-options-and-parameters">
<h2>7.2. General Options and Parameters<a class="headerlink" href="#general-options-and-parameters" title="Permalink to this headline">¶</a></h2>
<p>The following describes the configuration options and parameters
that are required regardless of the specific model used.
For true or false values, 1 is used for true and 0 is used for false.
File paths are relative to the directory in which <code class="docutils literal"><span class="pre">bamm</span></code> is called.</p>
<div class="section" id="general">
<h3>7.2.1. General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">modeltype</span></code></dt>
<dd>The type of model BAMM uses for analysis.
If <code class="docutils literal"><span class="pre">speciationextinction</span></code>, run with a speciation/extinction model.
If <code class="docutils literal"><span class="pre">trait,</span></code> run with a phenotypic evolution model.</dd>
<dt><code class="docutils literal"><span class="pre">treefile</span></code></dt>
<dd>The file path of the input tree (in Newick format).
For speciation/extinction analyses, the tree must be ultrametric,
fully bifurcating, and have unique tip names.</dd>
<dt><code class="docutils literal"><span class="pre">runInfoFilename</span></code></dt>
<dd>The path of the file to output general information about the current run.</dd>
<dt><code class="docutils literal"><span class="pre">sampleFromPriorOnly</span></code></dt>
<dd>If <code class="docutils literal"><span class="pre">1</span></code>, run by sampling from the prior only
(ignoring likelihood contribution to posterior).
If <code class="docutils literal"><span class="pre">0</span></code>, run the full analysis.</dd>
<dt><code class="docutils literal"><span class="pre">autotune</span></code></dt>
<dd>Experimental option for tuning MCMC operators.</dd>
<dt><code class="docutils literal"><span class="pre">runMCMC</span></code></dt>
<dd>If <code class="docutils literal"><span class="pre">1</span></code>, run the MCMC sampler.
If <code class="docutils literal"><span class="pre">0</span></code>, just check to see if the data can be loaded correctly.</dd>
<dt><code class="docutils literal"><span class="pre">simulatePriorShifts</span></code></dt>
<dd>If <code class="docutils literal"><span class="pre">1</span></code>, simulate prior distribution of the number of shift events,
given the hyperprior on the Poisson rate parameter. As the prior probabilities of shifts can now be calculated analytically (as described <a class="reference internal" href="postprocess.html#analyticalprior"><span class="std std-ref">here</span></a>), this option is no longer necessary and is set to <code class="docutils literal"><span class="pre">0</span></code> by default.</dd>
<dt><code class="docutils literal"><span class="pre">loadEventData</span></code></dt>
<dd>If <code class="docutils literal"><span class="pre">1</span></code>, load a previous event state (event locations and parameter
values) from a file. This allows a run to be continued even after a
previous run has finished. The file format is identical to that of the
default output file <code class="docutils literal"><span class="pre">event_data.txt</span></code>. Only the data from the last
generation will be processed if the file contains data for multiple
generations. For example, to load the data from a previous run, copy the
output event file (<code class="docutils literal"><span class="pre">event_data.txt</span></code>) to something like
<code class="docutils literal"><span class="pre">event_data_in.txt</span></code> and use this file in the <code class="docutils literal"><span class="pre">eventDataInfile</span></code> option
(below). Note that <code class="docutils literal"><span class="pre">event_data.txt</span></code> will be overwritten by the new run
(unless you change its name in the configuration file), so if you&#8217;d like to
keep those data, copy the file to a new one.</dd>
<dt><code class="docutils literal"><span class="pre">eventDataInfile</span></code></dt>
<dd>The file path of the event data to be loaded (used only if <code class="docutils literal"><span class="pre">loadEventData</span>
<span class="pre">=</span> <span class="pre">1</span></code>).</dd>
<dt><code class="docutils literal"><span class="pre">initializeModel</span></code></dt>
<dd>If <code class="docutils literal"><span class="pre">1</span></code>, initializes MCMC.
If <code class="docutils literal"><span class="pre">0</span></code>, just check parameter file and ensure that data can be read.</dd>
<dt><code class="docutils literal"><span class="pre">seed</span></code></dt>
<dd>Seed for the random number generator.
If <code class="docutils literal"><span class="pre">-1</span></code>, the seed is obtained from the clock time.</dd>
<dt><code class="docutils literal"><span class="pre">overwrite</span></code></dt>
<dd>If <code class="docutils literal"><span class="pre">1</span></code>, overwrite output files if they already exist with identical
filenames.
If <code class="docutils literal"><span class="pre">0</span></code>, do not run if output files already exist with identical filenames.</dd>
<dt><code class="docutils literal"><span class="pre">validateEventConfiguration</span></code></dt>
<dd>If <code class="docutils literal"><span class="pre">1</span></code>, rejects proposals that cause a branch and both of its direct
descendants to have at least one event. Such an event configuration may cause
the parameters of the parent event to change to unrealistic values.
If <code class="docutils literal"><span class="pre">0</span></code>, no such proposals are immediately rejected.
The default value is <code class="docutils literal"><span class="pre">0</span></code>.</dd>
</dl>
</div>
<div class="section" id="priors">
<h3>7.2.2. Priors<a class="headerlink" href="#priors" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">expectedNumberOfShifts</span></code></dt>
<dd><p class="first">BAMM will use this value to calculate the prior probability distribution on the number of rate shifts. In previous versions of BAMM this was specified via the <code class="docutils literal"><span class="pre">poissonRatePrior</span></code>, which is simply <img class="math" src="_images/math/a5bd3885191bb20b78076c63bab63aea11b08e1f.png" alt="\frac{1}{expectedNumberOfShifts}"/>. Suggested values:</p>
<p><code class="docutils literal"><span class="pre">expectedNumberOfShifts</span> <span class="pre">=</span> <span class="pre">1.0</span></code> for smaller datasets (&lt; 500 tips) or</p>
<p class="last"><code class="docutils literal"><span class="pre">expectedNumberOfShifts</span> <span class="pre">=</span> <span class="pre">10</span></code> or even <code class="docutils literal"><span class="pre">50</span></code> for large (5000+ tips).</p>
</dd>
</dl>
</div>
<div class="section" id="mcmc-simulation">
<h3>7.2.3. MCMC Simulation<a class="headerlink" href="#mcmc-simulation" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">numberOfGenerations</span></code></dt>
<dd>Number of MCMC generations to run.</dd>
<dt><code class="docutils literal"><span class="pre">mcmcWriteFreq</span></code></dt>
<dd>Frequency (in generations) at which to print MCMC details
to <code class="docutils literal"><span class="pre">mcmcOutfile</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">eventDataWriteFreq</span></code></dt>
<dd>Frequency (in generations) at which to print event details
to <code class="docutils literal"><span class="pre">eventDataOutfile</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">printFreq</span></code></dt>
<dd>Frequency (in generations) at which to print output to the screen.</dd>
<dt><code class="docutils literal"><span class="pre">outName</span></code></dt>
<dd>If present (may be commented out), prefixes output files with the given
text.</dd>
<dt><code class="docutils literal"><span class="pre">mcmcOutfile</span></code></dt>
<dd>The path of the file to which to write the MCMC output.</dd>
<dt><code class="docutils literal"><span class="pre">eventDataOutfile</span></code></dt>
<dd>The path of the file to which to write the raw event data.
All of the results are contained in this file, and all branch-specific
speciation rates, shift positions, marginal distributions, etc.,
can be reconstructed from this output. See <a class="reference internal" href="postprocess.html#bammtools"><span class="std std-ref">Analyzing BAMM output with BAMMtools</span></a>
for more information on working with this output format.</dd>
<dt><code class="docutils literal"><span class="pre">outputAcceptanceInfo</span></code></dt>
<dd>If <code class="docutils literal"><span class="pre">1</span></code>, outputs whether each proposal was accepted.
The number identifying the proposal matches the one in the code.
The default value is <code class="docutils literal"><span class="pre">0</span></code> (i.e., do not output this information).</dd>
<dt><code class="docutils literal"><span class="pre">acceptanceInfoFileName</span></code></dt>
<dd>The path of the file to which to write whether each proposal was accepted.
<code class="docutils literal"><span class="pre">outputAcceptedInfo</span></code> must be set to <code class="docutils literal"><span class="pre">1</span></code> for this information to be
written. The default value is <code class="docutils literal"><span class="pre">acceptance_info.txt</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">acceptanceResetFreq</span></code></dt>
<dd>Frequency in which to reset the acceptance information.
The default value is <code class="docutils literal"><span class="pre">1000</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">updateEventLocationScale</span></code></dt>
<dd>Scale parameter for updating local moves of events on the tree.
This defines the width of the sliding window proposal. This parameter
is specified in units of &#8220;total tree depth&#8221; to minimize scale dependence.
Suppose you have a tree of age <em>T</em> (<em>T</em> is the time of the root node). Parameter
<code class="docutils literal"><span class="pre">updateEventLocationScale</span></code> is in units of T. A value of 0.05 means that the uniform
distribution for event location changes has a width of 0.05T.</dd>
<dt><code class="docutils literal"><span class="pre">updateEventRateScale</span></code></dt>
<dd>Scale parameter (proportional shrinking/expanding) for updating
the rate parameter of the Poisson process.</dd>
<dt><code class="docutils literal"><span class="pre">localGlobalMoveRatio</span></code></dt>
<dd>Ratio of local to global moves of events.</dd>
</dl>
</div>
<div class="section" id="metropolis-coupled-mcmc">
<h3>7.2.4. Metropolis Coupled MCMC<a class="headerlink" href="#metropolis-coupled-mcmc" title="Permalink to this headline">¶</a></h3>
<p>The Metropolis coupled MCMC implementation in BAMM is based on a
&#8220;global exchange scheme&#8221; for synchronization as described in
Altekar et al (2004) Parallel Metropolis coupled Markov chain
Monte Carlo for Bayesian phylogenetic inference.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">numberOfChains</span></code></dt>
<dd>Number of Markov chains to run. The default value is <code class="docutils literal"><span class="pre">1</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">deltaT</span></code></dt>
<dd>Temperature increment parameter. This value should be &gt; 0.
The temperature for the <img class="math" src="_images/math/df0deb143e5ac127f00bd248ee8001ecae572adc.png" alt="i"/>-th chain is calculated as
<img class="math" src="_images/math/5c619b8e8da0029532ae8c5d6da7b2fbc18c4014.png" alt="1 / [1 + \Delta T \times (i - 1)]"/>.
The default value is <code class="docutils literal"><span class="pre">0.1</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">swapPeriod</span></code></dt>
<dd>Number of generations in which to propose a chain swap.
The default value is <code class="docutils literal"><span class="pre">1000</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">chainSwapFileName</span></code></dt>
<dd>Name of the file in which to output data about each chain swap proposal.
The format of each line is
<code class="docutils literal"><span class="pre">[generation],[rank_1],[rank_2],[swap_accepted]</span></code>
where <code class="docutils literal"><span class="pre">[generation]</span></code> is the generation when the swap proposal was made,
<code class="docutils literal"><span class="pre">[rank_1]</span></code> and <code class="docutils literal"><span class="pre">[rank_2]</span></code> are the chains that were chosen
(chain 1 is the coldest, chain 2 is the second coldest, and so on),
and <code class="docutils literal"><span class="pre">[swap_accepted]</span></code> is whether the swap was made.
The default value is <code class="docutils literal"><span class="pre">chain_swap.txt</span></code>.</dd>
</dl>
</div>
<div class="section" id="parameter-update-rates">
<h3>7.2.5. Parameter Update Rates<a class="headerlink" href="#parameter-update-rates" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">updateRateEventNumber</span></code></dt>
<dd>Relative frequency of MCMC moves that change the number of events,
where the location of a new event is randomly picked across the whole tree.</dd>
<dt><code class="docutils literal"><span class="pre">updateRateEventNumberForBranch</span></code></dt>
<dd>Relative frequency of MCMC moves that change the number of events,
where the location of a new event is chosen by first
picking a random branch, then a random location within that branch.
This setting is hidden and set to 0 by default.
If used (i.e., set to &gt; 0), <code class="docutils literal"><span class="pre">updateRateEventNumber</span></code> should be set to 0.</dd>
<dt><code class="docutils literal"><span class="pre">updateRateEventPosition</span></code></dt>
<dd>Relative frequency of MCMC moves that change the location of an event
on the tree.</dd>
<dt><code class="docutils literal"><span class="pre">updateRateEventRate</span></code></dt>
<dd>Relative frequency of MCMC moves that change the rate at which events occur.</dd>
<dt><code class="docutils literal"><span class="pre">initialNumberEvents</span></code></dt>
<dd>Initial number of non-root processes.</dd>
</dl>
</div>
</div>
<div class="section" id="speciation-extinction-model">
<h2>7.3. Speciation/Extinction Model<a class="headerlink" href="#speciation-extinction-model" title="Permalink to this headline">¶</a></h2>
<p>The following describes the configuration options and parameters
that are specific to speciation/extinction analyses in BAMM.</p>
<div class="section" id="id1">
<h3>7.3.1. General<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">useGlobalSamplingProbability</span></code></dt>
<dd>If <code class="docutils literal"><span class="pre">1</span></code>, look for a global correction for incomplete sampling
(globalSamplingProbability).
If <code class="docutils literal"><span class="pre">0</span></code>, look for a file that specifies clade-specific corrections
for incomplete sampling (<code class="docutils literal"><span class="pre">sampleProbsFilename</span></code>).</dd>
<dt><code class="docutils literal"><span class="pre">globalSamplingProbability</span></code></dt>
<dd>Percentage of total number of species sampled in the phylogeny
(between 0 and 1).</dd>
<dt><code class="docutils literal"><span class="pre">sampleProbsFilename</span></code></dt>
<dd>The path of a file containing clade-specific corrections for
incomplete sampling.</dd>
</dl>
</div>
<div class="section" id="id2">
<h3>7.3.2. Priors<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">lambdaInitPrior</span></code></dt>
<dd>Prior on the inital lambda (rate parameter of the exponential distribution)
for the speciation rate. Applies to all non-root events.</dd>
<dt><code class="docutils literal"><span class="pre">lambdaShiftPrior</span></code></dt>
<dd>Prior on the the lambda shift parameter (standard deviation of the normal
distribution) for the speciation rate. The mean of the distribution
is fixed at zero, which is equal to a constant rate diversification process.
Applies to non-root events.</dd>
<dt><code class="docutils literal"><span class="pre">lambdaIsTimeVariablePrior</span></code></dt>
<dd>Prior on the time mode for the speciation rate.
This prior is the probability that the speciation rate for a new event
is time-variable (i.e., time-dependent) vs. constant through time.</dd>
<dt><code class="docutils literal"><span class="pre">muInitPrior</span></code></dt>
<dd>Prior on the extinction rate (rate paramater of the exponential
distribution). Applies to non-root events.</dd>
<dt><code class="docutils literal"><span class="pre">segLength</span></code></dt>
<dd>The &#8220;grain&#8221; of the likelihood calculations. It approximates the
continuous-time change in diversification rates by breaking each branch
into a constant-rate diversification segments, with each segment equal to
<code class="docutils literal"><span class="pre">segLength</span></code>. The parameter is specified in units of total tree depth. If
you have a tree of age T = 100, and set <code class="docutils literal"><span class="pre">segLength</span> <span class="pre">=</span> <span class="pre">0.05</span></code>, the segment
size will be 5.  A branch of length 20 would thus have the exponential
speciation-rate change approximated by 4 segments. If the value is greater
than the branch length (e.g., <code class="docutils literal"><span class="pre">segLength</span> <span class="pre">=</span> <span class="pre">0.20</span></code> in this case) BAMM will
not break the branch into segments but use the mean rate across the entire
branch.</dd>
</dl>
</div>
<div class="section" id="id3">
<h3>7.3.3. MCMC Simulation<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">updateLambdaInitScale</span></code></dt>
<dd>Scale parameter for updating the initial speciation rate for each process.</dd>
<dt><code class="docutils literal"><span class="pre">updateLambdaShiftScale</span></code></dt>
<dd>Scale parameter for the exponential change parameter for speciation.</dd>
<dt><code class="docutils literal"><span class="pre">updateMuInitScale</span></code></dt>
<dd>Scale parameter for updating initial extinction rate for each process.</dd>
<dt><code class="docutils literal"><span class="pre">minCladeSizeForShift</span></code></dt>
<dd>Allows you to constrain the location of possible rate-change events
to occur only on branches with at least this many descendant tips.
A value of <code class="docutils literal"><span class="pre">1</span></code> allows shifts to occur on all branches.</dd>
</dl>
</div>
<div class="section" id="starting-parameters">
<h3>7.3.4. Starting Parameters<a class="headerlink" href="#starting-parameters" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">lambdaInit0</span></code></dt>
<dd>Initial speciation rate (at the root of the tree).</dd>
<dt><code class="docutils literal"><span class="pre">lambdaShift0</span></code></dt>
<dd>Initial rate change parameter for speciation at the root.
If <code class="docutils literal"><span class="pre">0</span></code>, speciation rates will not change through time.
A negative value implies decreasing rates through time.</dd>
<dt><code class="docutils literal"><span class="pre">muInit0</span></code></dt>
<dd>Initial extinction rate at the root.</dd>
</dl>
</div>
<div class="section" id="id4">
<h3>7.3.5. Parameter Update Rates<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">updateRateLambda0</span></code></dt>
<dd>Relative frequency of MCMC moves that change the initial speciation rate
associated with an event.</dd>
<dt><code class="docutils literal"><span class="pre">updateRateLambdaShift</span></code></dt>
<dd>Relative frequency of MCMC moves that change the exponential shift parameter
of a speciation rate associated with an event.</dd>
<dt><code class="docutils literal"><span class="pre">updateRateLambdaTimeMode</span></code></dt>
<dd>Relative frequency of MCMC moves that change whether the speciation rate
for an event is time-variable (i.e., time-dependent)
or constant through time.</dd>
<dt><code class="docutils literal"><span class="pre">updateRateMu0</span></code></dt>
<dd>Relative frequency of MCMC moves that change the extinction rate for a given
event.</dd>
</dl>
</div>
</div>
<div class="section" id="phenotypic-evolution-model">
<h2>7.4. Phenotypic Evolution Model<a class="headerlink" href="#phenotypic-evolution-model" title="Permalink to this headline">¶</a></h2>
<p>The following describes the configuration options and parameters
specific to the phenotypic evolution model in BAMM.
The parameter &#8220;beta&#8221; represents the rate of phenotypic evolution
at any point in time.</p>
<div class="section" id="id5">
<h3>7.4.1. General<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">traitfile</span></code></dt>
<dd>The path to a file that contains the phenotypic trait data.
Traits must be continuous characters.
Each line must have a species name and the corresponding trait value,
separated by a tab.
A header row is <strong>not</strong> permitted.
All species in the trait data file must be in the tree and vice versa.</dd>
</dl>
</div>
<div class="section" id="mcmc-tuning">
<h3>7.4.2. MCMC Tuning<a class="headerlink" href="#mcmc-tuning" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">updateBetaInitScale</span></code></dt>
<dd>Scale operator for proportional shrinking/expanding move to update
the initial phenotypic rate for rate regimes.</dd>
<dt><code class="docutils literal"><span class="pre">updateNodeStateScale</span></code></dt>
<dd>Scale operator for sliding window move to update ancestral states
at internal nodes.</dd>
<dt><code class="docutils literal"><span class="pre">updateBetaShiftScale</span></code></dt>
<dd>Scale operator for sliding window move to update initial phenotypic rate.</dd>
</dl>
</div>
<div class="section" id="id6">
<h3>7.4.3. Starting Parameters<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">betaInit</span></code></dt>
<dd>Initial value of the phenotypic evolutionary process at the root
of the tree.</dd>
<dt><code class="docutils literal"><span class="pre">betaShiftInit</span></code></dt>
<dd>Initial value of the exponential change parameter for the phenotypic
evolutionary process (at the root of the tree).
If <code class="docutils literal"><span class="pre">0</span></code>, then the process has a constant rate.
If negative, it implies decreasing rates through time.</dd>
</dl>
</div>
<div class="section" id="id7">
<h3>7.4.4. Priors<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">betaInitPrior</span></code></dt>
<dd>Parameter (rate) of the prior (exponential) on the inital phenotypic
evolutionary rate associated with regimes, for non-root events.</dd>
<dt><code class="docutils literal"><span class="pre">betaShiftPrior</span></code></dt>
<dd>Parameter (stdandard deviation) of the prior (normal) on the rate-change
parameter for non-root events.</dd>
<dt><code class="docutils literal"><span class="pre">betaIsTimeVariablePrior</span></code></dt>
<dd>Prior on the time mode for the phenotypic evolution rate.
This prior is the probability that the phenotypic rate for a new event
is time-variable (i.e., time-dependent) vs. constant through time.</dd>
<dt><code class="docutils literal"><span class="pre">useObservedMinMaxAsTraitPriors</span></code></dt>
<dd>If <code class="docutils literal"><span class="pre">1</span></code>, puts a uniform prior density on the distribution of ancestral
character states, with upper and lower bonds determined by the min and max
of the observed data.</dd>
<dt><code class="docutils literal"><span class="pre">traitPriorMin</span></code></dt>
<dd>User-defined minimum value for the uniform density on the distribution
of ancestral character states. Only used if
<code class="docutils literal"><span class="pre">useObservedMinMaxAsTraitPriors</span> <span class="pre">=</span> <span class="pre">0</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">traitPriorMax</span></code></dt>
<dd>User-defined maximum value for the uniform density on the distribution
of ancestral character states. Only used if
<code class="docutils literal"><span class="pre">useObservedMinMaxAsTraitPriors</span> <span class="pre">=</span> <span class="pre">0</span></code>.</dd>
</dl>
</div>
<div class="section" id="id8">
<h3>7.4.5. Parameter Update Rates<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">updateRateBeta0</span></code></dt>
<dd>Relative frequency of moves that change the initial phenotypic rate
associated with an event.</dd>
<dt><code class="docutils literal"><span class="pre">updateRateBetaShift</span></code></dt>
<dd>Relative frequency of moves that change the exponential shift parameter
of a phenotypic rate associated with an event.</dd>
<dt><code class="docutils literal"><span class="pre">updateRateBetaTimeMode</span></code></dt>
<dd>Relative frequency of MCMC moves that change whether
the phenotypic evolution rate for an event is time-variable
(i.e., time-dependent) or constant through time.</dd>
<dt><code class="docutils literal"><span class="pre">updateRateNodeState</span></code></dt>
<dd>Relative frequency of moves update the value of ancestral character stats.
You have as many ancestral states as you have internal nodes in your tree,
so there are a lot of parameters: this value should, in general,
be substantially higher than the other parameter values
(recommended 25:1 or 50:1) because there are so many internal nodes states
that need to be updated.</dd>
</dl>
</div>
<div class="section" id="data-output">
<h3>7.4.6. Data Output<a class="headerlink" href="#data-output" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">nodeStateOutfile</span></code></dt>
<dd>The path of the file to which to write the node state data
(i.e., trait values).
The data are written as a tree in the Newick format,
where the &#8220;branch length&#8221; of each node is the node&#8217;s trait value.
The tree includes the ancestral trait value data.
At each time point (see <code class="docutils literal"><span class="pre">nodeStateWriteFreq</span></code>),
the generation and the current node state tree are written on a new line.
This set of trees may be read in R using the ape library
(<code class="docutils literal"><span class="pre">read.tree('node_state.txt',</span> <span class="pre">keep.multi=T)</span></code>).
The setting <code class="docutils literal"><span class="pre">nodeStateOutfile</span></code> is normally hidden
and its default value is <code class="docutils literal"><span class="pre">node_state.txt</span></code>.</dd>
<dt><code class="docutils literal"><span class="pre">nodeStateWriteFreq</span></code></dt>
<dd>Frequency (in generations) at which to print the node state data.
This setting is normally hidden and its default value is <code class="docutils literal"><span class="pre">0</span></code>
(i.e., do not write any node state data).</dd>
</dl>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="postprocess.html" title="8. Analyzing BAMM output with BAMMtools"
             >next</a></li>
        <li class="right" >
          <a href="settingup.html" title="6. Setting Up BAMM"
             >previous</a> |</li>
<li><a href="index.html">Home</a>&nbsp;|</li>
<li><a href="download.html">Download</a>&nbsp;|</li>
<li><a href="documentation.html">Documentation</a>&nbsp;|</li>
<li><a href="contact_us.html">Contact Us</a></li>
 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2015 BAMM Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-49579863-1', 'bamm-project.org');
ga('send', 'pageview');
</script>

  </body>
</html>