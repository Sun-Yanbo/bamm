<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>BAMM Changes &#8212; bamm 2.5.0 documentation</title>
    
    <link rel="stylesheet" href="_static/bamm.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="search" title="Search" href="search.html" /> 
  </head>
  <body role="document">
<div class="pageheader">
    <img src="_static/bamm-header.png" /img>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
<li><a href="index.html">Home</a>&nbsp;|</li>
<li><a href="download.html">Download</a>&nbsp;|</li>
<li><a href="documentation.html">Documentation</a>&nbsp;|</li>
<li><a href="contact_us.html">Contact Us</a></li>
 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="documentation.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">BAMM Changes</a><ul>
<li><a class="reference internal" href="#id1">2.5.0</a><ul>
<li><a class="reference internal" href="#new-features-and-enhancements">New features and enhancements</a></li>
<li><a class="reference internal" href="#bammtools-enhancements">BAMMtools enhancements</a></li>
<li><a class="reference internal" href="#bug-fixes">Bug fixes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">2.4.0</a></li>
<li><a class="reference internal" href="#id3">2.2.0</a></li>
<li><a class="reference internal" href="#id4">2.1.0</a></li>
<li><a class="reference internal" href="#id5">2.0.0</a><ul>
<li><a class="reference internal" href="#id6">New features and enhancements</a></li>
<li><a class="reference internal" href="#id7">Bug fixes</a></li>
<li><a class="reference internal" href="#other-changes">Other changes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id8">1.0.0</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/changes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="bamm-changes">
<span id="changes"></span><h1>BAMM Changes<a class="headerlink" href="#bamm-changes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>2.5.0<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p><em>Nov 4, 2015</em></p>
<div class="section" id="new-features-and-enhancements">
<h3>New features and enhancements<a class="headerlink" href="#new-features-and-enhancements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The prior distribution on the number of shifts is now specified with parameter <code class="docutils literal"><span class="pre">expectedNumberOfShifts</span></code>. This is simply the inverse of the previously-used parameter <code class="docutils literal"><span class="pre">poissonRatePrior</span></code>. BAMM control files will accept either parameter name but we find that <code class="docutils literal"><span class="pre">expectedNumberOfShifts</span></code> is more intuitive.</li>
<li>No more prior simulation in BAMM. The relevant BAMMtools functions now accept an argument for <code class="docutils literal"><span class="pre">expectedNumberOfShifts</span></code> and compute the full prior distribution from that information.</li>
<li>We made a major change to the algorithm for handling extinction probabilities <img class="math" src="_images/math/4a5896b3cd2183400b4ecfa6f3e0246330bce52f.png" alt="E(t)"/> at internal nodes when the two branches descended from a node differ in their shift histories. We don&#8217;t consider the previous approach a bug <em>per se</em>, but have convinced ourselves that the new way has a better theoretical justification.</li>
</ul>
</div>
<div class="section" id="bammtools-enhancements">
<h3>BAMMtools enhancements<a class="headerlink" href="#bammtools-enhancements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>We have added a new function to BAMMtools, <code class="docutils literal"><span class="pre">BAMMlikelihood</span></code>, which is an R-based tool for replicating the calculations implemented in BAMM. This is described <a class="reference internal" href="likelihoodmodel.html#testlikelihood"><span class="std std-ref">here</span></a>.</li>
<li>Changes to BAMMtools rate plotting functions, including improved histograms, color break options, and more.</li>
<li>New functions, including <code class="docutils literal"><span class="pre">generateControlFile</span></code> (to generate BAMM control files from within R), <code class="docutils literal"><span class="pre">plotPrior</span></code> (to visualize the prior and posterior distributions on the number of rate shifts), and <code class="docutils literal"><span class="pre">ratesHistogram</span></code> (to visualize the distribution of rates across a phylogeny).</li>
<li>No more &#8220;branch specific Bayes factors&#8221; for distinguishing between core and non-core shifts. We have replaced this terminology with a related concept - the <em>marginal odds ratio</em>. Note that neither &#8220;branch specific Bayes factors&#8221; nor &#8220;marginal odds ratios&#8221; can be used for formal model selection; we have explained this in detail on our conceptual page about the interpretation of <a class="reference external" href="rateshifts.html">rate shifts</a>.</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h3>Bug fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>the option <code class="docutils literal"><span class="pre">validateEventConfiguration</span></code> is an internal debugging option that should have had a default value of 0, but was instead set to 1 (this led to a bug in the Hastings ratio that would have affected a very small fraction of MCMC moves).</li>
</ul>
</div>
</div>
<div class="section" id="id2">
<h2>2.4.0<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p><em>June 13, 2015</em></p>
<ul class="simple">
<li>Caught a bug introduced during programming of fossil BAMM that allowed numerical overflow issues to occur to the extinction probability when E(t) approached 1.0 (this bug was not incorporated into the compiled version of BAMM that was distributed on the website but could have affected some analyses where users compiled BAMM code themselves).</li>
</ul>
<p><em>May 26, 2015</em></p>
<ul class="simple">
<li>Fixed bug in acceptance probability for MCMC moves that update the Poisson rate parameter. This is the most serious bug we have encountered in BAMM and <strong>would have magnified the effects of the prior on the posterior distribution of the number of shifts</strong>. If you previously used the default value of <code class="docutils literal"><span class="pre">poissonRatePrior</span> <span class="pre">=</span> <span class="pre">1.0</span></code>, you will probably notice little effect on inference, but <em>it may have had an impact in some cases</em>. We are grateful to Cécile Ané and Bret Larget for helping us solve this.</li>
</ul>
</div>
<div class="section" id="id3">
<h2>2.2.0<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p><em>September 5, 2014</em></p>
<ul class="simple">
<li>Parallelism is now implemented using C++11 threads<ul>
<li>No dependency on OpenMP libraries</li>
<li>Requires C++11 compiler (if building from source)</li>
</ul>
</li>
<li>Provide a tool that helps choosing a <code class="docutils literal"><span class="pre">deltaT</span></code> value
(available from GitHub), and it is documented in <a class="reference internal" href="mc3.html#mc3"><span class="std std-ref">Metropolis coupled Markov chain Monte Carlo [(MC)3]</span></a>.</li>
<li>Add <code class="docutils literal"><span class="pre">--version</span></code> option in <code class="docutils literal"><span class="pre">bamm</span></code> and update &#8220;Usage&#8221; message</li>
<li>Fix bug in initialization of trait values</li>
</ul>
</div>
<div class="section" id="id4">
<h2>2.1.0<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p><em>July 21, 2014</em></p>
<ul class="simple">
<li>Add proposal to change the number of events
by picking a random branch rather than a random location<ul>
<li>To use this proposal, add the setting <code class="docutils literal"><span class="pre">updateRateEventNumberForBranch</span></code>
and give it a value greater than 0 (e.g., 0.1)</li>
<li>It is recommended that the setting <code class="docutils literal"><span class="pre">updateRateEventNumber</span></code>
be set to 0 when this new proposal is used</li>
</ul>
</li>
<li>Fix log-likelihood calculation when loading event data
or adding initial events</li>
</ul>
</div>
<div class="section" id="id5">
<h2>2.0.0<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p><em>June 11, 2014</em></p>
<div class="section" id="id6">
<h3>New features and enhancements<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Metropolis-coupled MCMC<ul>
<li>Implementation from Altekar et al 2004
(<em>Parallel Metropolis coupled Markov chain Monte Carlo
for Bayesian phylogenetic inference</em>)</li>
<li>In the control file, specify the number of chains with <code class="docutils literal"><span class="pre">numberOfChains</span></code>,
the temperature increment parameter (delta T) with <code class="docutils literal"><span class="pre">deltaT</span></code>,
and the number of generations to wait for each chain swap proposal
with <code class="docutils literal"><span class="pre">swapPeriod</span></code></li>
<li>Supports running chains in parallel with OpenMP</li>
<li>Output acceptance information for chain swaps to the file
specified by <code class="docutils literal"><span class="pre">chainSwapFileName</span></code></li>
</ul>
</li>
<li>Time-flip proposal<ul>
<li>Allows shift events to change from time-variable to time-constant
and vice versa</li>
<li>Enable this proposal with <code class="docutils literal"><span class="pre">updateRateLambdaTimeMode</span></code> for the
speciation/extinction model type and with <code class="docutils literal"><span class="pre">updateRateBetaTimeMode</span></code>
for the trait model type</li>
</ul>
</li>
<li>Command-line options<ul>
<li>Change any setting at the command-line; for example, to change
the number of generations to 1000, add <code class="docutils literal"><span class="pre">--numberOfGenerations</span> <span class="pre">1000</span></code>
as a command-line option</li>
<li>Any setting in the control file can be changed, and the new value
specified at the command-line has precedence over that in the control file</li>
</ul>
</li>
<li>Use different rate functions for the rate parameter <em>k</em> &gt; 0 and for <em>k</em> &lt; 0;
when <em>k</em> &gt; 0, use the symmetrical function of <em>k</em> &lt; 0</li>
<li>Accept tree files with internal node names</li>
<li>Display better error messages related to reading a tree</li>
</ul>
</div>
<div class="section" id="id7">
<h3>Bug fixes<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Properly prefix file names if it includes a directory</li>
<li>Fix detection of negative branches</li>
<li>Fix simulating prior distributions for small number of generations</li>
</ul>
</div>
<div class="section" id="other-changes">
<h3>Other changes<a class="headerlink" href="#other-changes" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">numberGenerations</span></code> is now <code class="docutils literal"><span class="pre">numberOfGenerations</span></code></li>
<li><code class="docutils literal"><span class="pre">updateBetaScale</span></code> is now <code class="docutils literal"><span class="pre">updateBetaInitScale</span></code></li>
<li>Update example control files for this version of BAMM</li>
</ul>
</div>
</div>
<div class="section" id="id8">
<h2>1.0.0<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p><em>March 5, 2014</em></p>
<ul class="simple">
<li>Initial release</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
<li><a href="index.html">Home</a>&nbsp;|</li>
<li><a href="download.html">Download</a>&nbsp;|</li>
<li><a href="documentation.html">Documentation</a>&nbsp;|</li>
<li><a href="contact_us.html">Contact Us</a></li>
 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2015 BAMM Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.2.
    </div>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-49579863-1', 'bamm-project.org');
ga('send', 'pageview');
</script>

  </body>
</html>